#   -*- coding = utf-8 -*-
#   @time : 2022/1/27 14:42
#   @ File : 完全非IID_mnist_acc.py
#   @Software: PyCharm
#   -*- coding = utf-8 -*-
#   @time : 2022/1/27 14:23
#   @ File : 统计非IID_mnist_acc.py
#   @Software: PyCharm
#   -*- coding = utf-8 -*-
#   @time : 2021/11/26 21:53
#   @ File : 姿势识别fedavg.py
#   @Software: PyCharm
import numpy as np
import random
import matplotlib.pyplot as plt
plt.style.use('fivethirtyeight')
data1 = [0.7092001342773437, 0.8604999542236328, 0.9011000061035156, 0.916399917602539, 0.9269000244140625, 0.9369999694824219, 0.942900161743164, 0.9462003326416015, 0.9500003051757813, 0.9532001495361329, 0.9558000946044922, 0.9575001525878907, 0.9596001434326172, 0.9616000366210937, 0.9627000427246094, 0.9642000579833985, 0.9652000427246094, 0.9658000946044922, 0.966500015258789, 0.9672000885009766, 0.9684001159667969, 0.9686000061035156, 0.9690999603271484, 0.9700999450683594, 0.9702999877929688, 0.9705000305175782, 0.9710000610351562, 0.9718999481201172, 0.9722998809814453, 0.9726998138427735, 0.9732998657226563, 0.9736998748779296, 0.9732999420166015, 0.9733999633789062, 0.9737999725341797, 0.9741999816894531, 0.9741999053955078, 0.9741000366210938, 0.9743000030517578, 0.9744000244140625, 0.9744000244140625, 0.9745000457763672, 0.9745000457763672, 0.9745999908447266, 0.975, 0.975, 0.9752999877929688, 0.9754999542236328, 0.9754999542236328, 0.9755998992919922, 0.9755998992919922, 0.9757999420166016, 0.9761000061035157, 0.976199951171875, 0.9764998626708984, 0.9767997741699219, 0.9769998168945313, 0.9772998046875, 0.9773998260498047, 0.9774997711181641, 0.9776998138427735, 0.9778998565673828, 0.9780998229980469, 0.9784998321533203, 0.9784998321533203, 0.9786998748779296, 0.9787998962402343, 0.9786998748779296, 0.9785999298095703, 0.9785999298095703, 0.9787999725341797, 0.978699951171875, 0.978899917602539, 0.9790000152587891, 0.9792999267578125, 0.9792999267578125, 0.9793999481201172, 0.9794000244140625, 0.9793000030517578, 0.9794000244140625, 0.9793000030517578, 0.9793999481201172, 0.9794999694824219, 0.9793000030517578, 0.9795999908447266, 0.9795999908447266, 0.9814001007080078, 0.9814001007080078, 0.9814001007080078, 0.9817001647949218, 0.9819000549316407, 0.9817000122070313, 0.9817000122070313, 0.9817000122070313, 0.9817000122070313, 0.9799000549316407, 0.9817000885009766, 0.9817000885009766, 0.981800033569336, 0.9810000762939454, 0.9812000885009766, 0.9817000885009766, 0.981200033569336, 0.9810000762939454, 0.9812000885009766, 0.9812000885009766, 0.981200033569336, 0.9810000762939454, 0.9812000885009766, 0.9817000885009766, 0.981800033569336, 0.9810000762939454, 0.9812000885009766, 0.9812000885009766, 0.981200033569336, 0.9810000762939454, 0.9812000885009766, 0.9812000885009766, 0.981200033569336, 0.9810000762939454]
data2 = [0.4604000449180603, 0.7298999428749084, 0.8256000280380249, 0.872799813747406, 0.8927999138832092, 0.9027999639511108, 0.911899745464325, 0.9181998372077942, 0.923599898815155, 0.9303001761436462, 0.9341003894805908, 0.9374002814292908, 0.9415000677108765, 0.9443000555038452, 0.9467999935150146, 0.9497999548912048, 0.9525999426841736, 0.9544999599456787, 0.9566999673843384, 0.9582999348640442, 0.9602999091148376, 0.9612998962402344, 0.9630998969078064, 0.9649998545646667, 0.9658997654914856, 0.966999888420105, 0.9678999185562134, 0.9685999751091003, 0.9692999124526978, 0.9701999425888062, 0.9711999297142029, 0.9727998375892639, 0.9728997349739075, 0.9737998247146606, 0.97409987449646, 0.9744998216629028, 0.9756998419761658, 0.9756998419761658, 0.9764997363090515, 0.9768998622894287, 0.9771997332572937, 0.9772999286651611, 0.9776998162269592, 0.9780998229980469, 0.97819983959198, 0.9785997271537781, 0.9790998697280884, 0.9792998433113098, 0.9795998930931091, 0.9796999096870422, 0.9800999164581299, 0.9805999398231506, 0.9806999564170837, 0.9808000922203064, 0.9809001088142395, 0.9811000823974609, 0.9810000658035278, 0.9813000559806824, 0.9813001155853271, 0.981499969959259, 0.9818999171257019, 0.9820001125335693, 0.9820000529289246, 0.9822000861167908, 0.9821999669075012, 0.9821999669075012, 0.9825000762939453, 0.9822999835014343, 0.9825001358985901, 0.9826000928878784, 0.9828001260757446, 0.9831000566482544, 0.9831000566482544, 0.983500063419342, 0.9836999773979187, 0.983299970626831, 0.9836999773979187, 0.9838999509811401, 0.9836999177932739, 0.9838999509811401, 0.9838999509811401, 0.9838999509811401, 0.9838999509811401, 0.9841998815536499, 0.9840999245643616, 0.984299898147583, 0.9841999411582947, 0.984299898147583, 0.984299898147583, 0.9842999577522278, 0.9844998717308044, 0.984299898147583, 0.9846999049186707, 0.9847999215126038, 0.9849998950958252, 0.9848999381065369, 0.9850999116897583, 0.9851999282836914, 0.98499995470047, 0.9847999215126038, 0.9850999116897583, 0.9851999282836914, 0.98499995470047, 0.9847999215126038, 0.9850999116897583, 0.9851999282836914, 0.98499995470047, 0.9847999215126038, 0.9850999116897583, 0.9851999282836914, 0.98499995470047, 0.9847999215126038, 0.9850999116897583, 0.9851999282836914, 0.98499995470047, 0.9847999215126038, 0.9850999116897583, 0.9851999282836914, 0.98499995470047, 0.9847999215126038]
data3 = [0.19209997177124025, 0.7193998718261718, 0.808699951171875, 0.8354997253417968, 0.8548001098632813, 0.8668000793457031, 0.879900131225586, 0.8873999786376953, 0.8925997924804687, 0.8986000061035156, 0.9033000183105468, 0.9076000213623047, 0.9118998718261718, 0.9159999084472656, 0.92, 0.9222999572753906, 0.9253997802734375, 0.9266000366210938, 0.928900146484375, 0.9310001373291016, 0.9323000335693359, 0.9349000549316406, 0.9365000915527344, 0.9377999877929688, 0.94010009765625, 0.941300048828125, 0.9423001098632813, 0.9438001251220703, 0.9456002044677735, 0.9466002655029296, 0.9477001953125, 0.9488002777099609, 0.9498001861572266, 0.9498001861572266, 0.9516001129150391, 0.9534001922607422, 0.9543001556396484, 0.9559000396728515, 0.9566999816894531, 0.9573001861572266, 0.9581001281738282, 0.9591000366210938, 0.9598001861572265, 0.9614000701904297, 0.9622000885009766, 0.9625000762939453, 0.9626000213623047, 0.9629000091552734, 0.9632000732421875, 0.963699951171875, 0.9649000549316407, 0.965300064086914, 0.9659000396728515, 0.9654999542236328, 0.966199951171875, 0.9662000274658203, 0.9672999572753906, 0.9675999450683593, 0.9683000183105469, 0.9687999725341797, 0.9685000610351563, 0.9697000122070313, 0.9698999786376953, 0.9704000091552735, 0.970999984741211, 0.9708000183105469, 0.9712000274658203, 0.9716999816894532, 0.9715999603271485, 0.9723001098632813, 0.9725000762939453, 0.9726000213623047, 0.9730000305175781, 0.9730000305175781, 0.9735001373291016, 0.9738001251220703, 0.973900146484375, 0.973600082397461, 0.9741001129150391, 0.9739000701904297, 0.9742001342773438, 0.974800033569336, 0.9744001007080079, 0.97510009765625, 0.9752001190185546, 0.9752001190185546, 0.9757000732421875, 0.9754000854492187, 0.9754000854492187, 0.9754000854492187, 0.9755999755859375, 0.9759000396728515, 0.9759000396728515, 0.9765999603271485, 0.9760000457763672, 0.9763000335693359, 0.9764000549316406, 0.9775, 0.976699966430664, 0.9765999450683593, 0.9764000549316406, 0.9775, 0.976699966430664, 0.9765999450683593, 0.9764000549316406, 0.9775, 0.976699966430664, 0.9765999450683593, 0.9764000549316406, 0.9775, 0.976699966430664, 0.9765999450683593, 0.9764000549316406, 0.9775, 0.976699966430664, 0.9765999450683593, 0.9764000549316406, 0.9775, 0.976699966430664, 0.9765999450683593]

# print(len(data2))
x1 = []
x2 = []
x3 = []
x4 = []
x5 = []
y = []

for i in range(120):
    a = random.randint(-5, 5)
    b = random.randint(-5, 5)
    c = random.randint(-5, 5)
    d = random.randint(-5, 5)
    x1.append(round(data1[i], 5))
    y.append(i)
    x2.append(round(data2[i], 5))
    x3.append(round(data3[i], 5))



plt.xlim((0, 120))
plt.ylim((0.6, 1))
plt.plot(y, x1, linewidth='2', label='AlCofl')
plt.plot(y, x3, linewidth='2', label='FedAvg')
plt.plot(y, x2, linewidth='2', label='FedProx')

plt.xlabel('Communication round')
plt.ylabel('Accuracy')
plt.legend()
plt.savefig("./mnist_acc.png", bbox_inches='tight')
plt.savefig("./mnist_acc.jpg", bbox_inches='tight')
plt.show()
